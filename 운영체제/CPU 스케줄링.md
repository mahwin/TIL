## CPU 스케줄링

CPU가 어떤 프로세스를 선택할 것인지는 스케줄링알고리즘을 통해 선택된다. 효율적인 스케줄링 알고리즘은 CPU의 사용률, 처리율, 대기시간, 응답시간 등을 최적화시킨다.

종류로는 비선점형(non-preemptive)와 선점형(preemptive)이 있다.
비선점형은 CPU 할당을 받은 프로세스가 CPU를 반환할 때까지 다른 프로세스가 CPU를 뺏을 수 없다.
선점형은 현대 운영체제가 쓰는 방식으로 CPU 할당을 받은 프로세스가 CPU를 반환하기 전에 다른 프로세스에게 CPU 소유권을 할당할 수 있는 방식을 말한다.

### FCFS(비선점형)

가장 먼저 온 것이 먼저 처리하는 알고리즘으로 뒤에 있는 프로세스는 준비 큐에서 오래 기다리는 현상인 convoy effect가 발생한다.

### SJF(비선점형)

가장 짧은 프로세스를 먼저 처리하는 알고리즘으로 평균 대기시간을 줄일 수 있다. 하지만, 긴 시간을 가진 프로세스가 실행되지 않는 starvation이 발생할 수 있다.

실제로 걸리는 시간을 알 수 없기 때문에 예측이 어렵다.

### 우선순위 (비선점형 or 선점형 다 됨)

기존 SJF 스케줄링에 우선순위를 포함해 starvation 현상을 막은 알고리즘이다. 우선순위는 작업의 시간, 프로세스의 메모리 요구사항, 열린 파일 수, 평균 CPU 사용량 등을 고려해서 설정된다.

### 라운드 로빈(선점형)

현대 컴퓨터가 쓰는 스케줄링방법이며 단순한 선점형 알고리즘이다. 각 프로세스는 동일한 할당 시간을 주고 그 시간 안에 끝나지 않으면 다시 준비 큐의 뒤로 가는 알고리즘이다.

- 할당 시간이 너무 크면 FCFS와 같아지고, 너무 작으면 컨텍스트 스위칭이 과하게 발생해 비용이 커진다.
- 평균 응답 시간이 짧아진다는 장점이 있다.

### SRF (선점형)

SJF는 중간에 실행 시간이 더 짧은 작업이 들어와도 기존 작업을 완료하는데, SRF는 해당 프로세스를 중지하고 더 빠른 작업을 수행하는 알고리즘이다.

### 다단계 큐 (선점형 or 비선점형)

다단계큐는 우선순위에 따른 준비 큐를 여러 개 사용하고, 큐마다 라운드 로빈이다 FCFS등 다른 알고리즘을 적용한 것을 말한다.

- 우선순위가 높은 큐부터 처리되기 때문에 낮은 큐의 프로세스가 처리 안 되는 기아현상이 발생할 수 있다.

### 출처

CS 지식의 정석 | 디자인패턴 네트워크 운영체제 데이터베이스 자료구조 (최홍철)
