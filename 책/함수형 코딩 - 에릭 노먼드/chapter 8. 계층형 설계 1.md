## 소프트웨어 설계란?

소프트웨어 설계는 코드를 만들고, 테스트하고 유지보수하기 쉬운 프로그래밍 방법을 선택하기 위해 미적 감각을 사용하는 것이다.

### 계층형 설계

계층형 설계는 소프트웨어를 계층으로 구성하는 기술이다. 각 계층에 있는 함수는 바로 아래 계층에 있는 함수를 이용해 정의한다. 설계 감각을 키우면 소프트웨어를 고치고, 읽고, 테스트하고, 재사용하기 쉬운 코드를 만들기 위한 계층 구조가 무엇인지 알 수 있다.

### 설계 감각을 키우기

#### 계층형 설계 감각을 키우기 위한 입력

계층형 설계 감각을 키우기 위해 다양한 입력을 생각해볼 수 있다.

함수 본문을 기준으로

- 길이
- 복잡성
- 구체화 단계
- 함수 호출
- 프로그래밍 언어의 기능 사용

계층 구조를 기준으로

- 화살표 길이
- 응집도
- 구체화 단계

함수 시그니처

- 함수명
- 인자 이름
- 인잣값
- 리턴값

위의 단서를 토대로 계층형 설계를 위한 길잡이로 사용해 볼 수 있다.

#### 계층형 설계 감각을 키우기 위한 출력

계층형 설게 감각을 키우기 위한 입력으로 할 수 있는 일은 다양하다.

조직화

- 새로운 함수를 어디에 놓을지 결정
- 함수를 다른 곳으로 이동

구현

- 구현 바꾸기
- 함수 추출하기
- 데이터 구조 바꾸기

변경

- 새 코드를 작성할 곳 선택하기
- 적절한 수준의 구체화 단계 결정하기

### 계층형 설계 패턴

대표적인 계층형 설계의 네 가지 패턴을 살펴보자

#### 패턴 1: 직접 구현

직접 구현은 계층형 설계 구조를 만드는 데 도움이 된다.
함수 시그니처가 나타내고 있는 문제를 함수 본문에서 적절한 구체화 수준에서 해결해야 한다.

#### 패턴 2: 추상화 벽

호출 그래프에 어떤 계층은 중요한 세부 구현을 감추고 인터페이스를 제공한다. 인터페이스를 사용하여 코드를 만들면 높은 차원으로 생각할 수 있다. 고수준의 추상화 단계만 생각하면 되기 때문에 두뇌 용량의 한계를 극복할 수 있다.

#### 패턴 3: 작은 인터페이스

시스템이 커질수록 비즈니스 개념을 나타내는 중요한 인터페이스는 작고 강력한 동작으로 구성하는 것이 좋다. 다른 동작도 직간접적으로 최소한의 인터페이스를 유지하면서 정의해야 한다.
