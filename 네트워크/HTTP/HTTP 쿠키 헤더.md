## 쿠키

쿠키는 작은 브라우저 저장소로, 서버가 클라이언트에게 전달하는 정보를 담아두는 곳이다. 클라이언트도 쿠키를 설정할 수 있지만, 제어권을 서버에서 두는 것이 좋다.

서버 측에서 쿠키를 전달할 때는 `Set-Cookie`, 클라이언트 측은 `Cookie` 헤더를 사용한다.

### 쿠키의 사용처

- 사용자 로그인 세션 관리
- 광고 정보 트래킹

### 주의할 점

- 항상 서버로 전달되기 때문에 추가 트래픽이 발생한다.
  - 최소한의 정보만 담자
- 보안에 민감한 데이터는 저장하지 말자

### 쿠키의 생명주기

Expires, max-age

- Set-Cookie: expires=Sat, 26-Mar-2022 07:00:00 GMT
- Set-Cookie: max-age=3600
- 세션 쿠키 : 만료 날짜를 생략하면 브라우저 종료시 삭제
- 영속 쿠키 : expires, max-age를 설정하면 해당 날짜에 삭제

### 쿠키 도메인 설정

현재 domain=www.naver.com

- 도메인을 명시 : 명시한 문서 기준 도메인 + 서브 도메인 포함
  - search.naver.com, news.naver.com 등등..
- 도메인을 생략 : 현재 도메인만 적용

### 쿠키 경로 설정

- 경로를 명시 : 이 경로를 포함한 하위 경로 페이지만 쿠키 접근

### 쿠키 보안

- Secure
  - https로만 쿠키를 주고받을 수 있다.
- HttpOnly
  - XSS 공격 방지
  - JS로 접근 불가
- SameSite
  - CSRF 공격 방지
  - 요청 도메인과 쿠키에 설정된 도메인이 같은 경우만 쿠키 전송
