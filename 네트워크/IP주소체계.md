### IP주소체계

#### IPv4

32비트로 표현되며, 4개의 8비트로 나누어져 각각을 `옥텟`이라고 부른다. 각 옥텟은 10진수로 표현해서 말한다.
해당 주소체계만으로는 부족하기 때문에 `NAT`, `서브네팅` 등의 기술이 필요하다.

#### IPv6

8개의 16비트로 표현되며, 16진수로 표현한다. 128비트로 표현되어 있어서 주소가 부족한 문제를 해결하였다.
: 으로 구분짓고, 연속되는 0은 생략 가능하다.

2001:0DBB:AC10:FE10::

#### IPv6의 특징

앞의 64비트는 네트워크주소를 의미하고, 뒤의 64비트는 인터페이스 주소를 의미한다.

- IPSec이 내장
  - 데이터 패킷을 암호화 하는 보안 네트워크 프로토콜 제품군
- IPv6의 단순해진 헤더 포맷
  - IPv4 헤더의 불필요한 필드를 제거했다.

#### IPv4와 IPv6의 차이점

IPv4에는 CRC를 통한 손상된 패킷을 확인하고 폐기하는데 쓰는 체크섬 필드가 있었지만, IPv6에는 없다.
상위 프로토콜에서 체크섬필드가 있기 때문에 헤더의 효율화를 위해 버전이 업그레이드되면서 사라졌다.

다만, IPv6 + UDP를 사용할 경우 UDP 헤더의 체크섬 필드를 반드시 사용한다고 설정해야 한다.

IPv4는 헤더가 가변적이지만 IPv6는 40바이트로 고정적이라 헤더길이에 대한 정보가 없다.

### 클래스풀 주소체계

IP주소는 네트워크 주소와 호스트 주소로 나누어져 있다. 네트워크 주소는 네트워크를 식별하고 호스트 주소는 네트워크 내에서 호스트를 식별한다.
클래스풀 주소체계는 IPv4에만 적용된다.

<img width="459" alt="스크린샷 2024-04-17 오후 11 08 10" src="https://gist.github.com/assets/78193416/12c99044-75ef-4284-940a-8e2a14c938b3">

#### `A 클래스`

<img width="447" alt="스크린샷 2024-04-17 오후 11 10 22" src="https://gist.github.com/assets/78193416/016f1175-a34c-4b75-9768-fb8de83ce5e0">

- 맨 앞자리가 0으로 시작된다.
- 2^24 -2 개의 호스트 주소를 가질 수 있다.
- 네트워크 주소 1 ~ 126이다.
  - 0은 알수 없는 대상에 사용되고 127은 루프백 주소이다.

#### `B 클래스`

<img width="428" alt="스크린샷 2024-04-17 오후 11 10 27" src="https://gist.github.com/assets/78193416/a3fd0710-a2b4-4c24-a6e5-553f868f0a29">

- 맨 앞자리가 10으로 시작된다.
- 2^16 -2 개의 호스트 주소를 가질 수 있다.
- 네트워크 주소는 128 ~ 191이다.

#### `C 클래스`

<img width="532" alt="스크린샷 2024-04-17 오후 11 13 50" src="https://gist.github.com/assets/78193416/c708e223-abb9-47b1-af7d-2cea53fa0dd4">

- 맨 앞자리가 110으로 시작된다.
- 2^8 -2 개의 호스트 주소를 가질 수 있다.
- 네트워크 주소는 192 ~ 223이다.

#### 클래스풀의 특징

- 호스트 주소의 시작은 네트워크 주소로, 끝은 브로드캐스트 주소로 사용된다.
- 세밀하게 나눠어지지 않기 때문에 낭비가 심하다.

### 클래스리스와 서브넷마스크, 서브네팅

클래스리스는 클래스풀의 단점을 해결했다. 서브넷마스크를 중심으로 어디까지가 네트워크 주소고 어디까지가 호스트주소인지를 구분한다.

- 서브네팅 : 네트워크를 나눈다는 의미
- 서브넷마스크 : 네트워크 주소와 호스트 주소를 구분하는 역할
- 서브넷 : 나누어진 네트워크

#### `서브넷마스크`

네트워크주소부부만 1이고, 호스트주소부분은 0으로 이루어진다.
IP와 서브넷마스크를 & 연산하면 네트워크 주소를 얻을 수 있다.

### NAT

IPv4 주소체계가 가진 IP주소의 부족한 문제를 해결하기 위해 나왔다. 하나의 공인IP주소를 여러개의 사설IP주소로 변환하는 기술이다.

NAT은 라우팅 장치를 통해 전송되는 동안 패킷의 IP주소를 변경, IP주소를 다른 IP주소로 매핑하는 방법이다.
